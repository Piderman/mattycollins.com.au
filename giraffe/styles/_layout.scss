//page layout

/*
	header, body, footer

	page__width
*/



//----------------------------------------
//page stuff
html { background: #40454b; }
body { @include fontFace(body); }






//----------------------------------------------------------------------------


//not really controls as such, but part of the template design
.branding--logo {
	@include fontFace(hand);
	
	display: block;
	color: #a64536;
	font-size: 26px; line-height: 22px; text-decoration: none;

	span { display: block; text-indent: 1.4em; } //about 1 tab || 4 spaces?

	&:hover,
	&:focus { color: #8d7db5; }
}



.homeText {
	@include fontFace(hand);
	font-size: 20px; line-height: 1;

	//keeps on the one line
	.standout {
		display: block;
		// width: 200px;
		font-size: 52px;
	}

	small { display: block; padding: 1em 0 2em; }
}




.page__footerLinks {
	position: relative;

	//need to be full screen on mob so push in to padding
	margin: -10px -10px 10px;
	padding-bottom: 20px;
	background: #b3b3b5;

	li { display: inline-block; }

	a {
		color:#40454b;
		font-size: 30px;

		// todo: needs work
		&:hover,
		&:focus { color: #fff; }
	}

	@include breakpoint(640px) {
		margin-right: -20px; margin-left: -20px;
	}

	@include breakpoint(960px) {
		float: right;
		margin: 0 40px 0 0; padding: 0;
		background: none;

		li { margin: 0 5px; }
		a { color: #b3b3b5; text-shadow: none!important; }



		svg { display: none; }
	}
}


.nav--socialLinks {
	ul {
		margin: 0; padding: 0;
		text-align: center;
	}

	li { margin: 0 20px; }

	a {
		text-decoration: none; text-shadow: 1px 1px 0 rgba(#fff, 0.5);
	}
}

.page__copywrite {
	@include fontFace(hand);

	font-size: 20px;
}



//----------------------------------------------------------------------------


//page__width settings
.page__width {
	@include transition(padding 0.2s, width 0.2s);
	@include box-sizing(border-box);

	max-width: 1200px;
	margin: 0 auto; padding: 10px;
}

.page__header {
	
	//keep out of normal flow
	position: fixed; top: 0; left: 0; right: 0; z-index: 40;

	.page__width { position: relative; padding: 0; height: 80px; }

	.topLayer {
		position: absolute;
		top: 0; right: 0; left: 0;
		z-index: 20;
		
		padding: 5px 10px 0;
		background: $red--light;
	}

	.bottomTriangle {
		position: absolute;
		left: 0;
		top: 49px;
		width: 100%;
		height: 15px;
		
		use {
			fill: $red--light;
		}
	}

	.triangle--left,
	.triangle--right { display: none; }

	a {
		-webkit-transition: color 0.2s;
	}

	@include breakpoint(640px) {
		position: static;
		background: $red--dark;

		.page__width { height: auto; background: $red--light; }

		.topLayer {
			position: static;
			float: left;
			margin-right: 30px;
			padding: 16px 0 0 10px;
		}

		.bottomTriangle { top: 60px; z-index: 1; }
	}

	@include breakpoint(960px) {
		height: 60px;

		.topLayer {
			padding-bottom: 21px;
		}
		
		// .bottomTriangle { top: 80px; }
		

		//edges of header
		.triangle--left,
		.triangle--right {
			position: absolute; top: 0; z-index: 1;
			display: block;
			width: 32px;
			height: 75px;
			
			use { fill: $red--light; }
		}

		.triangle--left { left: -32px; }

		.triangle--right { right: -32px; height: 60px; }
	}
}


.page__body {
	//anchors giraffe head and neck
	position: relative;
	
	.page__width {
		padding: 0 45px 0 20px;
	}

	@include breakpoint(640px) {
		padding: 45px 0 20px;
		background: #637182;

		.page__width { padding-right: 65px; background: none; }
	}

	@include breakpoint(1340px) {
		.page__width { padding: 0; }
	}
}

.page__footer {
	position: relative; //anchors giraffe body
	background: #40454b; color: #b3b3b5; //#fff

	.page__width { position: relative; }

	.footerTriangle {
		position: absolute; bottom: 0; left: 0;
		width: 100%; height: 20px;
		use { fill: #7a7c80; }
	}



	//----------------------------------------------------------------------------


	@include breakpoint(640px) {
		.page__copywrite {
			float: left; width: 240px;
		}

		.screenSizes { float: left; margin-left: 40px; }
	}
}


//needs to be fullscreen
.layout__main {

	margin: 0 -45px 35px -20px;
	padding: 185px 45px 20px 20px;
	background: #fff7f3;
}


.island {
	margin: 0 0 35px;
	padding: 10px;
	background: #f0f4f8;
	border: 2px solid #7690ad;

	@include box-shadow(0 0 0 2px #f0f4f8, 0 8px 10px -5px rgba(#000, 0.75));
}


@include breakpoint(640px) {
	.page__width {
		padding: 10px 20px;

	}
	
	.layout__main {
		margin: 0 0 35px;
		padding: 20px!important;
		border: 2px solid #637182;

		@include box-shadow(0 0 0 2px #fff7f3);
	}
}

//----------------------------------------------------------------------------


//page specific changes

[data-page-id="home"] {
	//since the bg is now on this guy, need to creat some space for the blog to overlap
	.layout__main {
		margin-bottom: 85px;
		padding-top: 135px;
		padding-bottom: 85px;
	}
}

//the post is more important than the sidebar, so override std col behaivour
[data-page-id="post"] {
	//don't need to worrry about support
	@media screen and (min-width: 640px) and (max-width: 960px) {
		.col--two-thirds { width: 100%; float: none; }

		//make the two island guys go SxS
		.layout__sidebar {
			width: 100%; margin: 0; float: none;

			.island {
				@include box-sizing(border-box);
				float: left;
				width: 48%;
			}

			.relatedPosts { margin-right: 2%; }

			.recentPosts  { margin-left: 2%; }
		}
	}
}

.header--sidebar {
	color: #8d7db5;
}