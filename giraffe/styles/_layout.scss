/*
	Layout rules divide the page into sections. Layouts hold one or more
	modules together.
*/

html { background: #363e47; }
body { background: #fff7f3; }


// remove the focus on this guy
[role="main"] {
	outline: none;
}

.page__width {
	@include box-sizing(border-box);

	// keeps it above le giraffe
	position: relative; z-index: 2;
	margin-right: auto;
	margin-left: auto;

	padding-right: $gutter;
	padding-left: $gutter;


	@include breakpoint(2) {
		max-width: grid(2);
		// padding-right: 0;
		// padding-left: 0;
	}

	@include breakpoint(3) {
		max-width: grid(3);
		// todo: make gutter value
		// padding-right: 32px;
		padding-left: $gutter--desktop;
	}

	@include breakpoint(4) {
		max-width: grid(4);
		padding-right: $gutter--desktop;
	}
}

.page__header {
	background: url($noise) $giraffe__yellow--dark;


	// absolute now, header "doesnt exist"
	@include breakpoint(3) {
		padding: 0;
		background: none;
		position: absolute; top: 24px; left: 0; z-index: 2;
		width: 100%;
	}
}


.page__body {
	position: relative;
}



.page__footer {
	padding-top: 0.5em;
	border-top: 2px solid #5c6167;
	background: #363e47;
	color: #b3b3b5;
	text-align: center;

	@include breakpoint(3) {
		text-align: left;
	}
}




//----------------------------------------------------------------------------


// columns
[data-columns] {
	@extend %clearfix;

	padding-top: 2em;
	padding-bottom: 2em;


	// creates page gutter, perhaps should be ".t-sector--heading + [cols]" ?
	.gamma + & { padding-top: 0 }
}


.layout-column {
	@include box-sizing(border-box);


	@include breakpoint(3) {
		float: left;
		padding-left: $gutter--desktop;
		// dont want the first to double on the gutter
		&:first-child { padding-left: 0; }

		// invert float and gutters
		.layout--reversed &{
			&:first-child {
				padding-left: $gutter--desktop;
				float: right;

				+ .layout-column { padding-left: 0; }
			}
		}
	}
}

@include breakpoint(3) {
	[data-columns="3"] {
		.spans--1 {
			width: 33%;
		}

		.spans--2 {
			width: 66%;
		}
	}
}